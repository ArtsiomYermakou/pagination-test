{"version":3,"sources":["App.module.scss","api/api-passengers.js","reducers/passenger-reducer.js","assets/plane.jpg","App.js","reportWebVitals.js","store/store.js","index.js"],"names":["module","exports","instance","axios","create","baseURL","passengersAPI","page","countRows","get","initialState","passengers","savedData","setPassengersAC","type","fetchPassengersTC","dispatch","then","res","numberPage","data","App","useDispatch","useState","currentRows","setCurrentRows","currentPage","setCurrentPage","passengersData","useSelector","state","useEffect","Object","keys","map","item","includes","className","classes","contentSection","passengerItemWrapper","p","passengerItem","airline","logo","src","alt","planeImg","name","trips","website","established","pagination","TablePagination","component","count","totalPages","onChangePage","event","newPage","rowsPerPage","onChangeRowsPerPage","parseInt","target","value","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","newElementInArray","id","filter","length","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f439eed0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentSection\":\"App_contentSection__3ZrgA\",\"passengerItemWrapper\":\"App_passengerItemWrapper__3jKuR\",\"passengerItem\":\"App_passengerItem__22TB_\",\"pagination\":\"App_pagination__1sUA1\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: ``\r\n})\r\n\r\nexport const passengersAPI = {\r\n    getPassengers(page, countRows) {\r\n        return instance.get(`https://api.instantwebtools.net/v1/passenger?page=${page}&size=${countRows}`)\r\n    }\r\n}","import {passengersAPI} from \"../api/api-passengers\";\r\n\r\n\r\nconst initialState = {\r\n    passengers: {},\r\n    savedData: []\r\n}\r\n\r\nexport const passengersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET-PASSENGERS\":\r\n            return {\r\n                ...state,\r\n                passengers: action.passengers\r\n            }\r\n        case \"SET-PAGE-NUMBER\":\r\n            const newElementInArray = {\r\n                id: action.numberPage,\r\n                data: action.data\r\n            }\r\n            if (\r\n                state.savedData.filter((item) => {\r\n                    return item.id === action.numberPage\r\n                }).length === 0\r\n            ) {\r\n                return {\r\n                    ...state,\r\n                    savedData: [...state.savedData, newElementInArray]\r\n                }\r\n            }\r\n            return state\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setPassengersAC = (passengers) => (\r\n    {type: \"SET-PASSENGERS\", passengers}\r\n)\r\nexport const setPageNumber = (numberPage, data) => (\r\n    {type: \"SET-PAGE-NUMBER\", numberPage, data}\r\n)\r\n\r\nexport const fetchPassengersTC = (page, countRows) => {\r\n    return (dispatch) => {\r\n        passengersAPI.getPassengers(page, countRows)\r\n            .then((res) => {\r\n                dispatch(setPassengersAC(res.data))\r\n                dispatch(setPageNumber(page, res.data.data))\r\n            })\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/plane.c2c74956.jpg\";","import {TablePagination} from \"@material-ui/core\";\nimport {useEffect, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchPassengersTC, setPassengersAC} from \"./reducers/passenger-reducer\";\nimport classes from './App.module.scss'\nimport planeImg from \"../src/assets/plane.jpg\";\n\nfunction App() {\n    const dispatch = useDispatch();\n    const [currentRows, setCurrentRows] = useState(10);\n    const [currentPage, setCurrentPage] = useState(0)\n\n    const passengersData = useSelector(state => state.passengers?.passengers);\n    const savedData = useSelector(state => state.passengers?.savedData);\n\n    useEffect(() => {\n        dispatch(fetchPassengersTC(currentPage, currentRows));\n    }, [])\n\n    useEffect(() => {\n\n        if (!Object.keys(savedData).map(item => +item).includes(currentPage)) {\n            dispatch(fetchPassengersTC(currentPage, currentRows));\n        }\n        else{\n            dispatch(setPassengersAC(savedData[currentPage]))\n        }\n\n    }, [currentPage, currentRows, dispatch])\n\n    const changePage = (event, newPage) => {\n        setCurrentPage(newPage);\n    }\n\n    const setRows = (event) => {\n        setCurrentRows(parseInt(event.target.value, 10));\n        setCurrentPage(0);\n    }\n\n    return (\n        <div>\n            <div className={classes.contentSection}>\n                <div className={classes.passengerItemWrapper}>\n                    {passengersData?.data?.map(p => {\n                        return <div className={classes.passengerItem} key={p[\"_id\"]}>\n                            {\n                                p.airline.logo ?\n                                    <img src={p.airline.logo} alt=\"logo\"/>\n                                    : <img src={planeImg} alt=\"planeImg\"/>\n                            }\n                            {\n                                p.name && <div>Name: {p.name}</div>\n                            }\n                            {\n                                p.trips && <div>Trips: {p.trips}</div>\n                            }\n                            {\n                                p.airline.name && <div>Airline name:{p.airline.name}</div>\n                            }\n                            {p.airline.website && <div>Website {p.airline.website}</div>}\n                            {p.airline.established && <div>Established: {p.airline.established}</div>}\n                        </div>\n                    })}\n                </div>\n            </div>\n            <div className={classes.pagination}>\n                <TablePagination\n                    component=\"div\"\n                    count={passengersData?.totalPages ? passengersData?.totalPages : 10}\n                    page={currentPage}\n                    onChangePage={changePage}\n                    rowsPerPage={currentRows}\n                    onChangeRowsPerPage={setRows}\n                />\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {passengersReducer} from \"../reducers/passenger-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    passengers: passengersReducer\r\n});\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleware));","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {store} from \"./store/store\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n)\n;\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}